<!DOCTYPE html>
<html lang="en">
  {% include 'includes/head.html' %}
  {% load static %}
  {% load static i18n %}
<body class="index-page">
  {% include 'includes/header.html' %}
  {% block content %}

  <main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section dark-background">

      <img src="{% static 'img/662A5231.jpg' %}" alt="" data-aos="fade-in">

      <div class="container">
        <h2 data-aos="fade-up" data-aos-delay="100">Learning Today,<br>Leading Tomorrow</h2>
        <p data-aos="fade-up" data-aos-delay="200">Dedicated to providing high-quality technical and vocational training that meets industry standards and prepares students for successful careers.</p>
        <div class="d-flex mt-4" data-aos="fade-up" data-aos-delay="300">
          <!--<a href="#" class="btn-get-started">Get Started</a>-->
        </div>
      </div>

    </section><!-- /Hero Section -->

<!-- About Section -->
<section id="about" class="about section">

  <div class="container">

    <div class="row gy-4">

      <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-up" data-aos-delay="100">
        <img src="{% static 'img/662A5223.jpg' %}" class="img-fluid" alt="College Image">
      </div>

      <div class="col-lg-6 order-2 order-lg-1 content" data-aos="fade-up" data-aos-delay="200">
       <h3>Excellence in Education and Skill Development</h3>
        <p class="fst-italic">
  Debre Tabor Polytechnic College is committed to providing high-quality education, practical training, and professional development to prepare students for successful careers.
</p>
        <ul>
          <li><i class="bi bi-check-circle"></i> <span>Practical and hands-on learning opportunities for students.</span></li>
          <li><i class="bi bi-check-circle"></i> <span>Qualified faculty dedicated to student success.</span></li>
          <li><i class="bi bi-check-circle"></i> <span>State-of-the-art facilities and modern laboratories to support advanced learning.</span></li>
        </ul>
        <a href="#" class="read-more"><span>Read More</span><i class="bi bi-arrow-right"></i></a>
      </div>

    </div>

  </div>

</section><!-- /About Section -->


    <!-- Counts Section -->
   <!-- Counts Section -->
<section id="counts" class="section counts light-background">

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <div class="row gy-4">
      <h1 class="text-center text-primary">Statistics</h1>

      {% for stat in stats %}
        <div class="col-lg-3 col-md-6">
          <div class="stats-item text-center w-100 h-100">
            <span data-purecounter-start="0"
                  data-purecounter-end="{{ stat.value }}"
                  data-purecounter-duration="1"
                  class="purecounter"></span>
            <p>{{ stat.title|title }}</p> 
          </div>
        </div><!-- End Stats Item -->
      {% empty %}
        <p class="text-center">No statistics available.</p>
      {% endfor %}

    </div>

  </div>

</section><!-- /Counts Section -->

    <!-- Why Us Section -->
    <section id="latestnews" class="section why-us">

      <div class="container">
        <h1 class="text-center text-primary">Latest News</h1>
        <div class="row gy-4">
          {% for news in news_items %}
          <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
          <h6> <a href="{% url 'news_detail' news.id %}" style="font-weight: bold; color: black;">{{ news.title }}</a></h6>
            {% if news.image %}
            <a href="{% url 'news_detail' news.id %}"><img src="{{ news.image.url }}" alt="{{ news.title }}" class="img-fluid"></a>
            {% endif %}
            {% if news.video %}
  <video width="100%" controls>
    <source src="{{ news.video.url }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
{% endif %}

            <p>{{ news.content|truncatewords:10 }}</p>
            <div class="text-center">
              <a href="{% url 'news_detail' news.id %}" class="more-btn d-block mb-2"><span>Read More</span></a>
              <span class="more-btn d-block">{{ news.published_date|date:"M d, Y" }}</span>
            </div>
          </div><!-- End news item -->
          {% empty %}
          <p>No news available at the moment.</p>
          {% endfor %}
        </div>  
        <div class="text-center mt-4">
  <a href="{% url 'news_list' %}" class="btn btn-primary">View More News</a>
</div>
</div>
    </section><!-- /Why Us Section -->

    <!-- Features Section -->
    
<!-- Courses Section -->
<section id="courses" class="courses section">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Academics</h2>
    <p>Academics Departments</p>
  </div><!-- End Section Title -->

  <div class="container">

    <!-- Swiper container -->
    <div class="swiper courses-swiper">
      <div class="swiper-wrapper">

        {% for dept in departments %}
          <!-- Department Slide -->
          <div class="swiper-slide">
            <div class="course-item">
              {% if dept.image %}
                <img src="{{ dept.image.url }}" class="img-fluid" alt="{{ dept.name }}">
              {% endif %}

              <div class="course-content">
                <h3><a href="#">{{ dept.name }}</a></h3>
                <p class="description">{{ dept.description|truncatewords:15 }}</p>
                <div class="trainer-rank"><i class="bi bi-person user-icon"></i>&nbsp;50</div>
              </div>
            </div>
          </div><!-- End Slide -->
        {% empty %}
          <p>No departments available.</p>
        {% endfor %}

      </div><!-- /swiper-wrapper -->

      <!-- Pagination + Navigation -->
      <div class="swiper-pagination"></div>

      <!-- Swiper Config -->
      <script type="application/json" class="swiper-config">
        {
          "loop": true,
          "speed": 600,
          "autoplay": { "delay": 5000 },
          "slidesPerView": 3,
          "spaceBetween": 40,
          "pagination": {
            "el": ".swiper-pagination",
            "type": "bullets",
            "clickable": true
          },
          "breakpoints": {
            "320": { "slidesPerView": 1, "spaceBetween": 20 },
            "768": { "slidesPerView": 2, "spaceBetween": 20 },
            "1200": { "slidesPerView": 3, "spaceBetween": 30 }
          }
        }
      </script>
    </div><!-- /swiper -->

  </div>

</section><!-- /Courses Section -->

  <<!-- Testimonials Section -->
<section id="testimonials" class="testimonials section">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Testimonials</h2>
    <p>What are they saying</p>
  </div><!-- End Section Title -->

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <div class="swiper init-swiper">
      <!-- Swiper Config -->
      <script type="application/json" class="swiper-config">
        {
          "loop": true,
          "speed": 600,
          "autoplay": { "delay": 5000 },
          "slidesPerView": "auto",
          "pagination": {
            "el": ".swiper-pagination",
            "type": "bullets",
            "clickable": true
          },
          "breakpoints": {
            "320": { "slidesPerView": 1, "spaceBetween": 40 },
            "1200": { "slidesPerView": 2, "spaceBetween": 20 }
          }
        }
      </script>

      <div class="swiper-wrapper">
        {% for testimonial in testimonials %}
          <div class="swiper-slide">
            <div class="testimonial-wrap">
              <div class="testimonial-item text-center">
                {% if testimonial.image %}
                  <img src="{{ testimonial.image.url }}" class="testimonial-img" alt="{{ testimonial.name }}">
                {% else %}
                  <img src="{% static 'img/testimonials/default.jpg' %}" class="testimonial-img" alt="{{ testimonial.name }}">
                {% endif %}
                <h3>{{ testimonial.name|title }}</h3>
                {% if testimonial.position %}
                  <h4>{{ testimonial.position|title }}</h4>
                {% endif %}
                <p>
                  <i class="bi bi-quote quote-icon-left"></i>
                  <span>{{ testimonial.message|truncatewords:25 }}</span>
                  <i class="bi bi-quote quote-icon-right"></i>
                </p>
              </div>
            </div>
          </div><!-- End testimonial item -->
        {% empty %}
          <p class="text-center">No testimonials available.</p>
        {% endfor %}
      </div><!-- /swiper-wrapper -->

      <!-- Pagination -->
      <div class="swiper-pagination"></div>
    </div><!-- /swiper -->

  </div>
</section><!-- /Testimonials Section -->


  </main>
  {% endblock %}
  {% include 'includes/footer.html' %}

</body>
</html>
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('.swiper').forEach(function(swiperEl) {
    let configEl = swiperEl.querySelector('.swiper-config');
    let config = {};
    if (configEl) {
      try { 
        config = JSON.parse(configEl.textContent); 
      } catch (e) { 
        console.error("Invalid Swiper config JSON", e); 
      }
    }

    // Initialize swiper
    let swiper = new Swiper(swiperEl, config);

    // âœ… Pause on hover
    swiperEl.addEventListener("mouseenter", function() {
      if (swiper.autoplay) swiper.autoplay.stop();
    });
    swiperEl.addEventListener("mouseleave", function() {
      if (swiper.autoplay) swiper.autoplay.start();
    });
  });
});

document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('a[href^="#"], a[href*="#"]').forEach(anchor => {
    anchor.addEventListener("click", function (e) {
      const targetId = this.getAttribute("href").split("#")[1];
      if (targetId) {
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          e.preventDefault();
          window.scrollTo({
            top: targetElement.offsetTop,
            behavior: "smooth"
          });
        }
      }
    });
  });
});
</script>
